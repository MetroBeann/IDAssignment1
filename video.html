<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="wireframe.css" type="text/css">
    <script src="responsive.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    
    <title>Video</title>
    
</head>
<body>
       
    <ul class="navbar-container">
        <li class="logo">
            <a href="index.html">
          <img src="d4vd images/d4vd logo.webp" height="60px">
        </a>
        </li>
        <li><a href="music.html">MUSIC</a></li>
        <li><a class="active" href="video.html">VIDEO</a></li>
        <li><a href="merch.html">MERCH</a></li>
        <li><a href="signup.html">SIGN UP</a></li>
      </ul>
    
    <div class="video">
        <div class="content">
            <br>
            <h1>VIDEO</h1>
        </div>
    </div>

    <div class="newbody">
        <div class="wrapper">
        <div class="vidcarousel">
            <i id ="left" class="fa-solid fa-angle-left" style="z-index: 90;"></i>
            <iframe src="d4vd images/Here With Me Short.mp4" width="1000" height="605"></iframe>
            <iframe src="d4vd images/Romantic Homicide Short.mp4" width="1000" height="605"></iframe>
            <iframe src="d4vd images/Sleep Well Short.mp4" width="1000" height="605"></iframe>
        </div>

        <i id ="right" class="fa-solid fa-angle-right" style="z-index: 90;"></i>
        </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const vidcarousel = document.querySelector(".vidcarousel");
        const leftIcon = document.getElementById('left');
        const rightIcon = document.getElementById("right");
 
        const iframes = vidcarousel.querySelectorAll("iframe");
        
        let currentIframe = null;
        let currentIndex = 0;
        

        function playNextVideo() {
            if (currentIframe) {
                currentIframe.contentWindow.postMessage('{"event": "command", "func": "' + "stopVideo" + '", "args": ""}', '*')
            }

            for(const iframe of iframes){
                iframe.style.display =  'none';
            }

            currentIndex++;

            if (currentIndex >= iframes.length){
                currentIndex = 0;
            }

            const nextIframe = iframes[currentIndex];
            nextIframe.style.display = "block";
            nextIframe.setAttribute("src", nextIframe.getAttribute("src") + "?autoplay=1");

            currentIframe = nextIframe;
        }

        function playPreviousVideo(){
            if (currentIframe) {
                currentIframe.contentWindow.postMessage('{"event": "command", "func": "' + "stopVideo" + '", "args": ""}', '*')
            }

            for(const iframe of iframes){
                iframe.style.display =  'none';
            }

            currentIndex--;

            if (currentIndex < 0){
                currentIndex = iframes.length - 1;
            }

            const prevIframe = iframes[currentIndex];
            prevIframe.style.display = "block";
            prevIframe.setAttribute("src", prevIframe.getAttribute("src") + "?autoplay=1");
            
            currentIframe = iframes[currentIndex];
        }

        leftIcon.addEventListener("click", playPreviousVideo);
        rightIcon.addEventListener("click", playNextVideo);
    });
    </script>


</body>
</html>
